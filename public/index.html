<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <link rel="stylesheet" href="public/style/style.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400&display=swap" rel="stylesheet">
  <title>Pandemic simulator</title>
</head>

<body>

  <div class="container-fluid w-100 vh-100">

    <!-- Navbar -->
    <div class="w-100 h-20 p-2 d-flex flex-row justify-content-around align-items-center">
      <!-- Toggle view button -->
      <h5>Pandemic game</h5>
      <button class='btn btn-primary m-2' id="change-view-button">Research center</button>
    </div>

    <!-- View 1 -->
    <div id='view1' class='w-100 h-80'>
    <div class="w-100 h-100 p-2 d-flex flex-column justify-content-center align-items-center">

      <!-- Metrics Panels -->
      <p><strong>Stats</strong></p>
      <div id="metrics-panel" class='p-1 m-1'>
        <div class="d-flex flex-row justify-content-evenly">
          <p> Turn:
            <br><span id="turn">0</span>
          </p>
          <p> Days:
            <br><span id="date">0</span>
          </p>
          <p> Deaths:
            <br><span id="deaths-month">0</span>
          </p>
          <p> Hospitalized Cases:
            <br><span id="cases-hospitalized">0</span>
          </p>
          <p> GDP:
            <br><span id="gdp">0</span>
          </p>
          <p> Public support:
            <br><span id="public-support">0</span>
          </p>
        </div>
      </div>

      <!-- events panel -->  
      <p><strong>Events</strong></p>
      <div 
        id="events-box" 
        class="p-2 m-2 w-100 events-panel d-flex flex-column align-items-end" 
        style='padding: 1rem; overflow: scroll; border: 1px solid lightblue; height: 30vh; border-radius: 5px;'>  
      </div>

      <!-- actions panel -->
      <p><strong>Policies</strong></p>
      <div class="row m-2" id="actions-panel">
          <div id="player-actions-container"></div>
      </div>

      <!-- end turn button -->
      <button id='advance-button' class='w-100 btn btn-lg btn-primary mt-auto'>
        Advance 
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">
            <path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
        </svg>
      </button>

    </div> 
    </div><!-- /view1 -->

    <!-- View 2 -->
    <div id='view2' style='display:none' class='w-100 h-100'>
    <div class="p-2 w-100 h-80 d-flex flex-column justify-content-center align-items-center">
      
      <!-- Indicators -->
      <p><strong>Treatment and testing facilities</strong></p>
      <div id="indicator-panel">
        <div class="d-flex flex-row justify-content-evenly">
            <p> Hospital Capacity
              <br><span id="hospital-capacity">0</span>
            </p>
            <p> Test Capacity
              <br><span id="test-capacity">0</span>
            </p>
            <p> Positively Tested
              <br><span id="positively-tested">0</span>
            </p>
            <p> Contact Tracing Capacity
              <br><span id="tracing-capacity">0</span>
            </p>
            <p> Isolated contacts
              <br><span id="isolated-cases">0</span>
            </p>
        </div>
      </div>

      <!-- Graph -->
      <p><strong>Data modelling</strong></p>
      <div id="cases-graph"  style="width:100%; height:250px;"></div>
    
    </div>
    </div> <!-- /view2 -->
    

  </div> <!-- /container -->

    <!-- Win screen modal -->
    <div class="modal" tabindex="-1" id='win-screen' data-backdrop="static" data-keyboard="false">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">The year is up, here's how you did...</h4>
          </div>
          <div class="modal-body">

            <!-- Results for the current game-->
            <div class="d-flex justify-content-center">
              <div width="300px" class="alert alert-secondary">
                <h5>This game:</h5>
                <div>
                  <p><span class="font-weight-bold">Total cases: </span><span id="win-total-cases"></span></p>
				   <p><span class="font-weight-bold">Total deaths: </span><span id="win-total-dead"></span></p>
                  <p><span class="font-weight-bold">Total cost: </span><span id="win-total-costs"></span></p>
                </div>
              </div>
            </div>
            <br />
            <!-- Results for up to the last three games -->
            <div id="prev-games-container" class="d-none">
              <h5>You previous games:</h5>
              <table class="table table-condensed">
                <tbody>
                  <tr id="past-cases-row">
                    <td class="font-weight-bold">Total cases</td>
                  </tr>
				  <tr id="past-dead-row">
                    <td class="font-weight-bold">Total deaths</td>
                  </tr>
                  <tr id="past-cost-row">
                    <td class="font-weight-bold">Total cost</td>
                  </tr>
                </tbody>
              </table>
              <div class="d-flex justify-content-between align-items-center"></div>
            </div>
            <!-- First game message-->
            <div id="first-game-message" class="d-none font-weight-bold">
              If you play again you will be able to compare your score with up to three previous games.
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="restart-btn">Play again</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Introduction modal -->
  <div class="modal" tabindex="-1" role="dialog" id='welcome-screen' data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Welcome</h5>
        </div>
        <div class="modal-body">
          <p>
            Welcome !!! you will be responsible for coordinating the response to the Covid-19 pandemic over the next twelve
            months.
          </p>
          <p>
            Your goal is to minimize the loss of life and the economic impacts.
          </p>
          <hr>
          <h5>How to play</h5>
          <br>
          <strong>Interacting with the simulation</strong>
          <p>
            Please choose your course of action in the <strong>Actions</strong> panel
            <br>Businesses <button class='player-action-demo m-2 btn btn-sm'>Open</button>
            <br>Masks <button class='player-action-demo m-2 btn btn-sm'>Optional</button>
          </p>
          <strong>Viewing policy consequences</strong>
          <p>
            Click
            <button class='btn btn-sm btn-light' style='color: red;'>
              Advance<br />
              <svg width="25px" height="25px" viewBox="0 0 16 16" class="bi bi-caret-right-fill" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
              </svg>
            </button>
            to go forwards in time and see the consequences
          </p>
          <p>
            Click
            <button class='btn btn-sm btn-light' style='color: red;'>
              Undo<br />
              <svg width="25px" height="25px" viewBox="0 0 16 16" class="bi bi-caret-left-fill" fill="currentColor"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M3.86 8.753l5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z" />
              </svg>
            </button>
            to go backwards in time and change your actions
          </p>
          <div>

          </div>

        </div>
        <div class="modal-footer justify-content-between align-items-center">
          <div><input type="checkbox" id="hide-welcome"><label for="hide-welcome">Do not show again</label></div>
          <div><button type="button" class="btn btn-primary" data-dismiss="modal">Begin â†’</button></div>
        </div>
      </div>
    </div>
  </div>

  <script type='text/javascript' src="bundle.js"></script>
</body>

</html>
